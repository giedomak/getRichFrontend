"use strict";function sortFunction(){}var app=angular.module("getRichFrontendApp",["n3-line-chart","ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","tc.chartjs","angulartics","angulartics.google.analytics"]);app.config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/tweet",{templateUrl:"views/tweet.html",controller:"TweetCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("getRichFrontendApp").controller("MainCtrl",["$rootScope","$scope","$http",function(a,b,c){a.tab="home",b.updateChart=function(){console.log("Updating chart"),c.get("http://www.giedomak.nl:8008/dbsize").success(function(a){b.dbsize=a}),c.get("http://www.giedomak.nl:8008/data").success(function(a){var c,d,e,f=[];b.data=[],b.totaltweets=[],b.totalanalysed=0,a.sort(function(a,b){var c=a.x.split("/"),d=new Date(c[1]+"/"+c[0]+"/"+c[2]),e=b.x.split("/"),f=new Date(e[1]+"/"+e[0]+"/"+e[2]);return d.valueOf()-f.valueOf()});for(var g=0;g<a.length;g++)c=a[g].x,d=c.split("/"),e=d[1]+"/"+d[0]+"/"+d[2],f[g]=new Date(e);0==parseFloat(a[0].Stock)&&(a[0].Stock=4527.69);for(var h=0;h<a.length;h++)if(!(f[h]>new Date("2014/12/01"))){0==parseFloat(a[h].Stock)&&0!=h&&(a[h].Stock=a[h-1].Stock);var i=4500;0!=parseFloat(a[h].prediction)&&(i=parseFloat(a[h].prediction)),b.data.push({x:f[h],joy:parseFloat(a[h].joy),trust:parseFloat(a[h].trust),fear:parseFloat(a[h].fear),surprise:parseFloat(a[h].surprise),sadness:parseFloat(a[h].sadness),disgust:parseFloat(a[h].disgust),anger:parseFloat(a[h].anger),anticipation:parseFloat(a[h].anticipation),Stock:parseFloat(a[h].Stock),Prediction:i}),b.totaltweets.push({x:f[h],total:parseInt(a[h].total)}),b.totalanalysed+=parseInt(a[h].total)}})},b.updateChart(),b.options={axes:{x:{type:"date",key:"x"},y1:{type:"area"},y2:{type:"area"}},lineMode:"cardinal",tension:.7,series:[{y:"joy",axis:"y1",type:"area"},{y:"trust",axis:"y1",type:"area"},{y:"fear",axis:"y1",type:"area"},{y:"surprise",axis:"y1",type:"area"},{y:"sadness",axis:"y1",type:"area"},{y:"disgust",axis:"y1",type:"area"},{y:"anger",axis:"y1",type:"area"},{y:"anticipation",axis:"y1",type:"area"},{stacks:[],y:"Stock",axis:"y2",thickness:"6px",color:"#000000",type:"line"},{stacks:[],y:"Prediction",axis:"y2",thickness:"6px",color:"#FF0000",type:"line"}],tooltip:{mode:"scrubber",formatter:function(a,b){return b}}}}]),function(){angular.module("getRichFrontendApp").controller("TweetCtrl",["$rootScope","$scope","$http",function(a,b,c){var d;a.tab="tweet",b.tweetinput="",b.$watch("tweetinput",function(){return b.updateResult()}),d=function(a){var b,c,d,e;for(null==a&&(a=3),c="0123456789ABCDEF".split(""),d="#",b=e=1;a>=1?a>=e:e>=a;b=a>=1?++e:--e)d+=c[Math.round(Math.random()*c.length)];return d},b.updateResult=function(){return c.get("http://giedomak.nl:8008/plutchik?text="+b.tweetinput).success(function(a){var c,e;b.data=[];for(c in a)e=a[c],b.data.push({label:c,value:e,color:d(),highlight:"#FF5A5E"});return console.log(a),b.result="joy: "+a.joy+" trust: "+a.trust+" fear: "+a.fear+" surprise: "+a.surprise+" sadness: "+a.sadness+" disgust: "+a.disgust+" anger: "+a.anger+" anticipation: "+a.anticipation})},angular.module("myModule",["tc.chartjs"]).controller("myController",["$scope",function(){}]),b.options={responsive:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="tc-chart-js-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'}}])}.call(this),function(){angular.module("getRichFrontendApp").controller("AboutCtrl",["$rootScope","$scope",function(a){return a.tab="about"}])}.call(this);